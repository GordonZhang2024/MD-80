<?xml version="1.0"?>

<PropertyList>
	
	<logic>
		<input>
			<and>
				<property>/systems/electrical/outputs/firetank</property>
				<property>/controls/firetank/salvodrop/switch</property>
				<property>/controls/firetank/droppower/switch</property>
				<property>/controls/firetank/droparm/switch</property>
			</and>
		</input>
		<output>/sim/model/firetank/opentankdoors</output>
	</logic>
	
	<logic>
		<input>
			<and>
				<property>/systems/electrical/outputs/firetank</property>
				<property>/controls/firetank/droppower/switch</property>
				<property>/controls/firetank/test/button</property>
			</and>
		</input>
		<output>/sim/model/firetank/lamptest</output>
	</logic>
	
	<logic>
		<input>
			<and>
				<property>/systems/electrical/outputs/firetank</property>
				<property>/controls/firetank/droppower/switch</property>
			</and>
		</input>
		<output>/sim/model/firetank/droppower</output>
	</logic>
	
	<filter>
		<type>gain</type>
		<gain>1.0</gain>
		<input>
			<condition>
				<property>/controls/firetank/bright/switch</property>
			</condition>
			<value>1.5</value>
		</input>
		<input>
			<condition>
				<not>
					<property>/controls/firetank/bright/switch</property>
				</not>		
			</condition>
			<value>0.5</value>
		</input>
		<input>0</input>
		<output>/sim/model/firetank/bright</output>
	</filter>
	
	<logic>
		<input>
			<and>
				<property>/systems/electrical/outputs/firetank</property>
				<property>/controls/firetank/droppower/switch</property>
				<property>/controls/firetank/droparm/switch</property>
			</and>
		</input>
		<output>/sim/model/firetank/ready</output>
	</logic>
	
	<logic>
		<input>
			<and>
				<property>/systems/electrical/outputs/firetank</property>
				<property>/controls/firetank/droppower/switch</property>
				<not>
					<property>/controls/firetank/droparm/switch</property>
				</not>
			</and>
		</input>
		<output>/sim/model/firetank/notready</output>
	</logic>
	
	<logic>
		<input>
			<and>
				<property>/systems/electrical/outputs/firetank</property>
				<property>/controls/firetank/droppower/switch</property>
				<or>
					<and>
						<less-than>
							<property>/fdm/jsbsim/inertia/pointmass-weight-lbs[4]</property>
							<value>35471</value>
						</less-than>
						<not>
							<property>sim/model/firetank/foam</property>
						</not>
					</and>
					<and>
						<less-than>
							<property>/fdm/jsbsim/inertia/pointmass-weight-lbs[4]</property>
							<value>33351</value>
						</less-than>
						<property>/sim/model/firetank/foam</property>
					</and>
				</or>
			</and>
		</input>
		<output>/sim/model/firetank/spaceopen</output>
	</logic>
	
	<logic>
		<input>
			<and>
				<property>/systems/electrical/outputs/firetank</property>
				<property>/controls/firetank/droppower/switch</property>
				<greater-than-equals>
					<property>/fdm/jsbsim/inertia/pointmass-weight-lbs[4]</property>
					<value>80</value>
				</greater-than-equals>
			</and>
		</input>
		<output>/sim/model/firetank/fluiddetected</output>
	</logic>
	
	<!-- Wildfire submodel triggers for foam/water or retardant graphics -->
	<logic>
		<input>
			<and>
				<property>/sim/model/firetank/retardantdropparticlectrl</property>
				<property>/sim/model/firetank/foam</property>
			</and>
		</input>
		<output>/sim/model/firetank/waterdropped</output>
	</logic>
	
	<logic>
		<input>
			<and>
				<property>/sim/model/firetank/retardantdropparticlectrl</property>
				<not><property>/sim/model/firetank/foam</property></not>
			</and>
		</input>
		<output>/sim/model/firetank/retardantdropped</output>
	</logic>

</PropertyList>