<?xml version="1.0"?>

<!-- Copyright (c) 2022 Josh Davidson (Octal450) -->

<PropertyList>
	
	<path>assumedtemp.ac</path>
	
	<animation>
		<type>material</type>
		<object-name>flex1</object-name>
		<object-name>flex2</object-name>
		<emission>
			<red>1.0</red>
			<green>0.6</green>
			<blue>0.3</blue>
			<factor-prop>controls/lighting/main-panel-norm</factor-prop>
		</emission>
	</animation>
	
	<animation>
		<type>textranslate</type>
		<object-name>flex1</object-name>
		<property>controls/tri/flex-d10</property>
		<factor>0.0695</factor>
		<step>1</step>
		<axis>
			<x>0</x>
			<y>1</y>
			<z>0</z>
		</axis>
	</animation>
	
	<animation>
		<type>pick</type>
		<object-name>flex1</object-name>
		<action>
			<button>0</button>
			<button>3</button>
			<repeatable>true</repeatable>
			<binding>
				<command>nasal</command>
				<script>
					<![CDATA[
						var flex = systems.TRI.Limit.flexTemp.getValue();
						var digit = left(sprintf("%02d", flex), 1);
						if (digit >= 5) systems.TRI.Limit.flexTemp.setValue(0 ~ right(sprintf("%02d", flex), 1));
						else systems.TRI.Limit.flexTemp.setValue((digit + 1) ~ right(sprintf("%02d", flex), 1));
					]]>
				</script>
			</binding>
		</action>
		<action>
			<button>1</button>
			<button>4</button>
			<repeatable>true</repeatable>
			<binding>
				<command>nasal</command>
				<script>
					<![CDATA[
						var flex = systems.TRI.Limit.flexTemp.getValue();
						var digit = left(sprintf("%02d", flex), 1);
						if (digit <= 0) systems.TRI.Limit.flexTemp.setValue(5 ~ right(sprintf("%02d", flex), 1));
						else systems.TRI.Limit.flexTemp.setValue((digit - 1) ~ right(sprintf("%02d", flex), 1));
					]]>
				</script>
			</binding>
		</action>
	</animation>
	
	<animation>
		<type>textranslate</type>
		<object-name>flex2</object-name>
		<property>controls/tri/flex-d1</property>
		<factor>0.0695</factor>
		<step>1</step>
		<axis>
			<x>0</x>
			<y>1</y>
			<z>0</z>
		</axis>
	</animation>
	
	<animation>
		<type>pick</type>
		<object-name>flex2</object-name>
		<action>
			<button>0</button>
			<button>3</button>
			<repeatable>true</repeatable>
			<binding>
				<command>nasal</command>
				<script>
					<![CDATA[
						var flex = systems.TRI.Limit.flexTemp.getValue();
						var digit = right(sprintf("%02d", flex), 1);
						if (digit >= 9) systems.TRI.Limit.flexTemp.setValue(left(sprintf("%02d", flex), 1) ~ 0);
						else systems.TRI.Limit.flexTemp.setValue(left(sprintf("%02d", flex), 1) ~ (digit + 1));
					]]>
				</script>
			</binding>
		</action>
		<action>
			<button>1</button>
			<button>4</button>
			<repeatable>true</repeatable>
			<binding>
				<command>nasal</command>
				<script>
					<![CDATA[
						var flex = systems.TRI.Limit.flexTemp.getValue();
						var digit = right(sprintf("%02d", flex), 1);
						if (digit <= 0) systems.TRI.Limit.flexTemp.setValue(left(sprintf("%02d", flex), 1) ~ 9);
						else systems.TRI.Limit.flexTemp.setValue(left(sprintf("%02d", flex), 1) ~ (digit - 1));
					]]>
				</script>
			</binding>
		</action>
	</animation>

</PropertyList>
